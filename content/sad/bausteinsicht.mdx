(hier genügt eine einfache Darstellung auf Ebene Pakete und Klassen)

# Bausteinsicht

Dieser Abschnitt beschreibt die Zerlegung von Algae Care in Module, die sich in der Paketstruktur des Java-Quelltextes widerspiegeln. Die Module der ersten Zerlegungsebene bezeichnen wir in Algae Care als Subsysteme. Diese Subsysteme bilden die grundlegenden Bausteine der Anwendung und definieren deren Verantwortlichkeiten sowie die Schnittstellen zur Interaktion miteinander.

Die Ebene 1 stellt die Subsysteme dar, einschließlich ihrer Schnittstellen und Abhängigkeiten. Für das zentrale Subsystem Eingabe- und Verarbeitungssystem enthält dieser Überblick auch eine detailliertere Zerlegung in Ebene 2, um die innere Struktur und Funktionsweise genauer zu erläutern.

Diese Darstellung dient dazu, die Modularität und die klare Trennung der Verantwortlichkeiten im System aufzuzeigen, wodurch die Wartbarkeit und Erweiterbarkeit von Algae Care gewährleistet wird.

## Subsysteme (Ebene 1)

```mermaid
graph TD
    subgraph AlgaeCare
        AppStarter
        Controller
        Model
        View
    end

    AppStarter --> Controller
    Model --> Controller
    Controller --> View
    View --> Controller
```

## Eingabe- und Verarbeitungssystems (Ebene 2)

### Main Application Components

```mermaid
graph TD
    subgraph AlgaeCare
        subgraph app
            Main
        end
        subgraph controller
            KeyboardInputController
            MainController
            NFCChipController
            ScreenController
        end
        subgraph model
            Environment
            EnvironmentObject
            GameState
        end
        subgraph view
            subgraph gui
                AnimationScreen
                GameScreen
                IdleScreen
                ScreenController
                Window
            end
        end
        AppStarter
    end
```

### Core MVC Framework Components

TODO

### Pi4J Hardware Components

```mermaid
graph TD
    subgraph com
        subgraph pi4j
            subgraph catalog
                subgraph components
                    SimpleButton
                    SimpleLed
                    Joystick
                    subgraph base
                        DigitalActuator
                        DigitalSensor
                        SerialDevice
                        SpiDevice
                        I2CDevice
                        PIN
                        Component
                        PwmActuator
                    end
                end
            end
        end
    end

    SimpleButton --> DigitalSensor
    SimpleLed --> DigitalActuator
    Joystick --> SimpleButton
    SerialDevice --> Component
    SpiDevice --> Component
    I2CDevice --> Component
    PIN --> Component
    PwmActuator --> Component
```

### Interconnections Between Components

```plantuml
@startuml
skinparam linetype polyline
skinparam linetype ortho

class com.algaecare.view.Window {
+ <<Create>> Window(Stage)
}

class com.algaecare.view.IdleScreen {
+ <<Create>> IdleScreen(String)
}

class com.algaecare.view.AnimationScreen {
+ <<Create>> AnimationScreen(String,Consumer<Void>)
+ void restart()
+ void dispose()
}

enum com.algaecare.model.GameState {
+  TITLE
+  OPENING
+  GAMEPLAY
+  CUTSCENE
+  ENDING
}

abstract class com.algaecare.view.Screen {
+ void dispose()
}

interface com.algaecare.controller.GameStateChangeListener {
}
class com.algaecare.controller.ScreenController {
+ <<Create>> ScreenController(MainController,Stage)
+ void onGameStateChanged(GameState,GameState)
}

class com.algaecare.model.Environment {
+ <<Create>> Environment(int,int,int,int)
+ void updateEnvironment(EnvironmentObject)
+ int getCo2Level()
+ int getTemperature()
+ int getAlgaeLevel()
+ int getO2Level()
+ List<EnvironmentObject> initializeEnvironmentObjects()
+ List<EnvironmentObject> getEnvironmentObjects()
}

interface com.algaecare.controller.NFCChipListener {
}
class com.algaecare.view.GameScreen {
+ <<Create>> GameScreen(String)
+ void updateEnvironmentDisplay(Environment)
}

class com.algaecare.app.Main {
+ {static} void main(String[])
+ void start(Stage)
}

class com.algaecare.model.EnvironmentObject {
+ <<Create>> EnvironmentObject(String,int,int,int,int)
+ String getName()
+ int getCo2Change()
+ int getTemperatureChange()
+ int getAlgaeChange()
+ int getOxygenChange()
}

class com.algaecare.controller.NFCChipController {
+ <<Create>> NFCChipController()
+ byte[] getDataOfChip()
+ boolean setDataOfChip(byte[])
+ int getIntFromChip()
+ boolean setIntOnChip(int)
+ void addListener(NFCChipListener)
+ void removeListener(NFCChipListener)
}

class com.algaecare.controller.KeyboardInputController {
+ <<Create>> KeyboardInputController(Stage)
+ void bindKey(KeyCode,Consumer<KeyEvent>)
+ void unbindKey(KeyCode)
+ void clearBindings()
+ void dispose()
}

class com.algaecare.controller.MainController {
+ <<Create>> MainController(Stage)
+ Environment getEnvironment()
+ GameState getGameState()
+ void setGameState(GameState)
+ void addGameStateChangeListener(GameStateChangeListener)
+ void removeGameStateChangeListener(GameStateChangeListener)
+ void onNewTagDetected(int)
}



javafx.scene.layout.VBox <|-- com.algaecare.view.Window
com.algaecare.view.Screen <|-- com.algaecare.view.IdleScreen
com.algaecare.view.Screen <|-- com.algaecare.view.AnimationScreen
javafx.scene.layout.VBox <|-- com.algaecare.view.Screen
com.algaecare.controller.GameStateChangeListener <|.. com.algaecare.controller.ScreenController
com.algaecare.view.Screen <|-- com.algaecare.view.GameScreen
javafx.application.Application <|-- com.algaecare.app.Main
com.algaecare.controller.NFCChipListener <|.. com.algaecare.controller.MainController
@enduml
```